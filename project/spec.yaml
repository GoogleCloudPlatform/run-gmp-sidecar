# Copyright 2025 Google LLC
#
# Licensed under the Apache License, Version 2.0 (the "License");
# you may not use this file except in compliance with the License.
# You may obtain a copy of the License at
#
#     http://www.apache.org/licenses/LICENSE-2.0
#
# Unless required by applicable law or agreed to in writing, software
# distributed under the License is distributed on an "AS IS" BASIS,
# WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
# See the License for the specific language governing permissions and
# limitations under the License.

name: run-gmp-sidecar
module: github.com/GoogleCloudPlatform/run-gmp-sidecar/run-gmp
display_name: Cloud Run GMP Sidecar
version: 1.4.0
description: "The Cloud Run GMP Sidecar build of the OTel Collector"
blurb: >-
  I will write a blurb at some point.
opentelemetry_version: 0.113.0
opentelemetry_contrib_version: 0.113.0
opentelemetry_stable_version: 1.19.0
binary_name: rungmpcol
go_version: 1.24.7

replaces:
- from: github.com/mattn/go-ieproxy v0.0.9
  to: github.com/mattn/go-ieproxy v0.0.1
  reason: "Currently causes build issues on windows. Downgrading to previous version."
- from: github.com/prometheus/prometheus
  to: github.com/googleCloudPlatform/prometheus v0.0.0-20241010204127-522fcab662ec
  reason: "Point to our fork of Prometheus at branch: feature/shutdownscrape_v0.54.1"
components:
  receivers:
  - otlp
  - prometheus

  processors:
  - filter
  - groupbyattrs
  - metricstransform
  - resourcedetection
  - resource
  - transform
  - batch
  - memorylimiter

  exporters:
  - debug
  - nop
  - otlp
  - otlphttp
  - file
  - googlecloud
  - googlemanagedprometheus

  extensions:
  - zpages

  providers:
  - env
  - file
  - yaml
